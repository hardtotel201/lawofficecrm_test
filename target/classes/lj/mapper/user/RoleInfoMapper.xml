<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="lj.mapper.user.RoleInfoMapper">

	<select id="findAllPaged" parameterType="RoleInfo" resultType="RoleInfo">
		select * from RoleInfo where roleName like '%${roleName}%'
		order by ${sortField} ${sortType}
	</select>
	
	
	<select id="findAll" resultType="RoleInfo">
		select * from RoleInfo order by roleName
	</select>
	
	
	
	<select id="findAllByUserId" parameterType="Long" resultType="RoleInfo">
		select * from RoleInfo where roleId in (select roleId from UserRole where userId=#{value} )
	</select>
	
	
	
	<insert id="insert" parameterType="RoleInfo" flushCache="true" useGeneratedKeys="true" keyProperty="roleId" >
      insert into RoleInfo(roleName,roleMemo)
      values(#{roleName,jdbcType=VARCHAR},#{roleMemo,jdbcType=VARCHAR})
  </insert>
  
   <update id="update" parameterType="RoleInfo" >
     update RoleInfo 
     set roleId=#{roleId,jdbcType=NUMERIC},roleName=#{roleName,jdbcType=VARCHAR},roleMemo=#{roleMemo,jdbcType=VARCHAR}
     where roleId=#{roleId}
  </update>
  
  <delete id="deleteById" parameterType="long">
      delete from RoleInfo where roleId=#{id}
  </delete>

</mapper>