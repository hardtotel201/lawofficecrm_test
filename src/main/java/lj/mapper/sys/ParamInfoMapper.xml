<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="lj.mapper.sys.ParamInfoMapper">

  <select id="findAll" resultType="ParamInfo">
    select * from ParamInfo
  </select>
  
  <select id="findAllByParamName" resultType="ParamInfo" parameterType="String" >
    select * from ParamInfo where paramName like '%${value}%'
  </select>
  
  
  <select id="findAllPaged" parameterType="ParamInfo" resultType="ParamInfo">
    select ParamInfo.*,UserInfo.userName as opUserName
    from ParamInfo
    left join UserInfo on UserInfo.userId=ParamInfo.opUserId
    where 1=1
    <if test=" paramName!=null and paramName!='' ">
		and paramName like '%${paramName}%'
	</if>
    order by ${sortField} ${sortType}
  </select>
  
  <select id="findById" parameterType="Long" resultType="ParamInfo">
    select * from ParamInfo where  paramId=#{id}
  </select>
  
  <select id="findAllByField" parameterType="Map" resultType="ParamInfo">
    select * from ParamInfo where ${fieldName}=#{fieldValue}
  </select>
 
  <insert id="insert" parameterType="ParamInfo" flushCache="true" useGeneratedKeys="true" keyProperty="paramId" >
      insert into ParamInfo( paramName, paramType, paramValue, paramMemo, opUserId, opTime)
      values(#{paramName,jdbcType=VARCHAR},#{paramType,jdbcType=VARCHAR},#{paramValue,jdbcType=VARCHAR},#{paramMemo,jdbcType=VARCHAR},#{opUserId,jdbcType=NUMERIC},#{opTime,jdbcType=TIMESTAMP})
  </insert>
  
   <update id="update" parameterType="ParamInfo" >
     update ParamInfo 
     set  paramName=#{paramName,jdbcType=VARCHAR},  paramType=#{paramType,jdbcType=VARCHAR}, paramValue=#{paramValue,jdbcType=VARCHAR},  paramMemo=#{paramMemo,jdbcType=VARCHAR},  opUserId=#{opUserId,jdbcType=NUMERIC},  opTime=#{opTime,jdbcType=TIMESTAMP} 
     where paramId=#{paramId}
  </update>
  
  <delete id="deleteById" parameterType="long">
      delete from ParamInfo where paramId=#{id}
  </delete>
  
</mapper>